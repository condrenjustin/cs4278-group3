{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\grant\\\\OneDrive\\\\Desktop\\\\cs4278-group3\\\\src\\\\pages\\\\DataDashboard.js\";\n\n/**\r\n * Group 3\r\n * Homework 3\r\n * Grant Bowlds (grant.f.bowlds@vanderbilt.edu) \r\n * Donny Carr (donovan.e.carr@vanderbilt.edu) \r\n * Justin Condren (justin.l.condren@vanderbilt.edu)\r\n * Skyler Grandel (skyler.h.grandel@vanderbilt.edu)\r\n */\nimport React from 'react';\nimport NavBar from '../components/NavBar';\nimport Airtable from 'airtable';\nimport CountUp from 'react-countup';\n/** The data dashboard page. Displays statistics for KOACORE business relevant to the client */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass DataDashboard extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      serviced: 0,\n      provided: 0\n    };\n\n    this.componentDidMount = async () => {\n      var x, y; // Airtable api call to get most recent entry\n\n      var base = new Airtable({\n        apiKey: process.env.REACT_APP_ATKEY\n      }).base('appECiA8jbyRdHrbu');\n      base('CRM-Prospects').select({\n        maxRecords: 1,\n        view: 'Retrieve Most Recent'\n      }).eachPage((records, fetchNextPage) => {\n        records.forEach(record => {\n          x = record.get('Venues').length;\n        });\n        fetchNextPage();\n      }).then(err => {\n        if (err) {\n          console.error(err);\n          return;\n        }\n\n        this.setState({\n          serviced: x\n        });\n        console.log(x);\n      });\n      base('CRM-Prospects').select({\n        maxRecords: 1,\n        view: 'Retrieve Most Recent'\n      }).eachPage((records, fetchNextPage) => {\n        records.forEach(record => {\n          y = record.get('Test Count')[0];\n        });\n        fetchNextPage();\n      }).then(err => {\n        if (err) {\n          console.error(err);\n          return;\n        }\n\n        this.setState({\n          provided: y\n        });\n        console.log(y);\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          color: \"#ffffff\"\n        },\n        children: \"Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          width: '80%',\n          margin: 'auto',\n          marginTop: '80px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"#ffffff\"\n            },\n            children: \" Thank you for considering KOACORE for your safety needs. We have worked with events ranging from Elton John to Coldplay, and we cannot wait to add you to the KOA family. In your region, we have:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 21\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: \"#ffffff\"\n          },\n          children: [\" \", /*#__PURE__*/_jsxDEV(CountUp, {\n            delay: 0.5,\n            end: this.state.serviced\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 51\n          }, this), \" venues serviced \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: \"#ffffff\"\n          },\n          children: [\" \", /*#__PURE__*/_jsxDEV(CountUp, {\n            delay: 1,\n            end: this.state.provided\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 51\n          }, this), \" fans tested \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: \"#ffffff\"\n          },\n          children: [\" \", /*#__PURE__*/_jsxDEV(CountUp, {\n            delay: 1.5,\n            end: 100\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 51\n          }, this), \"% client satisfaction. \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default DataDashboard;","map":{"version":3,"sources":["C:/Users/grant/OneDrive/Desktop/cs4278-group3/src/pages/DataDashboard.js"],"names":["React","NavBar","Airtable","CountUp","DataDashboard","Component","state","serviced","provided","componentDidMount","x","y","base","apiKey","process","env","REACT_APP_ATKEY","select","maxRecords","view","eachPage","records","fetchNextPage","forEach","record","get","length","then","err","console","error","setState","log","render","color","display","alignItems","justifyContent","width","margin","marginTop"],"mappings":"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","sourcesContent":["/**\r\n * Group 3\r\n * Homework 3\r\n * Grant Bowlds (grant.f.bowlds@vanderbilt.edu) \r\n * Donny Carr (donovan.e.carr@vanderbilt.edu) \r\n * Justin Condren (justin.l.condren@vanderbilt.edu)\r\n * Skyler Grandel (skyler.h.grandel@vanderbilt.edu)\r\n */\r\n\r\nimport React from 'react';\r\nimport NavBar from '../components/NavBar';\r\nimport Airtable from 'airtable';\r\nimport CountUp from 'react-countup';\r\n/** The data dashboard page. Displays statistics for KOACORE business relevant to the client */\r\n\r\nclass DataDashboard extends React.Component {\r\n\r\n    state = {\r\n        serviced: 0,\r\n        provided: 0\r\n    }\r\n\r\n    componentDidMount = async() => {\r\n        var x, y;\r\n        // Airtable api call to get most recent entry\r\n\r\n        var base = new Airtable({apiKey: process.env.REACT_APP_ATKEY}).base('appECiA8jbyRdHrbu');\r\n        base('CRM-Prospects').select({\r\n            maxRecords: 1,\r\n            view: 'Retrieve Most Recent'}).eachPage((records, fetchNextPage) => {\r\n                records.forEach((record) => {\r\n                    x = record.get('Venues').length;\r\n                });\r\n\r\n                fetchNextPage();\r\n            }).then((err) => {\r\n                if (err) { console.error(err); return; }\r\n                this.setState({serviced:x})\r\n                console.log(x);\r\n            });\r\n            \r\n        base('CRM-Prospects').select({\r\n            maxRecords: 1,\r\n            view: 'Retrieve Most Recent'}).eachPage((records, fetchNextPage) => {\r\n                records.forEach((record) => {\r\n                    y = record.get('Test Count')[0];\r\n                });\r\n\r\n                fetchNextPage();\r\n            }).then((err) => {\r\n                if (err) { console.error(err); return; }\r\n                this.setState({provided:y})\r\n                console.log(y);\r\n            });\r\n    }\r\n\r\n    render(){\r\n\r\n        return(\r\n            <div>\r\n                <NavBar />\r\n                <br></br>\r\n                <h1 style={{color:\"#ffffff\"}}>Dashboard</h1>\r\n                <div style={{\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    width:'80%',\r\n                    margin: 'auto',\r\n                    marginTop: '80px'\r\n                }}>\r\n                    <br>\r\n                    <p style={{color:\"#ffffff\"}}> Thank you for considering KOACORE for your safety needs. We have worked with events ranging from Elton John to Coldplay, and we cannot wait to add you to the KOA family. In your region, we have:</p> </br>\r\n                    <p style={{color:\"#ffffff\"}}> <CountUp delay={0.5} end={(this.state.serviced)} /> venues serviced </p>\r\n                    <p style={{color:\"#ffffff\"}}> <CountUp delay={1} end={this.state.provided} /> fans tested </p> \r\n                    <p style={{color:\"#ffffff\"}}> <CountUp delay={1.5} end={100} />% client satisfaction. </p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DataDashboard;\r\n\r\n"]},"metadata":{},"sourceType":"module"}