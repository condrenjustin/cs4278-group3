{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/skyle/Desktop/PoSWE/cs4278-group3/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/skyle/Desktop/PoSWE/cs4278-group3/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/skyle/Desktop/PoSWE/cs4278-group3/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/skyle/Desktop/PoSWE/cs4278-group3/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/skyle/Desktop/PoSWE/cs4278-group3/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\skyle\\\\Desktop\\\\PoSWE\\\\cs4278-group3\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";/**\r\n * Group 3\r\n * Homework 3\r\n * Grant Bowlds (grant.f.bowlds@vanderbilt.edu) \r\n * Donny Carr (donovan.e.carr@vanderbilt.edu) \r\n * Justin Condren (justin.l.condren@vanderbilt.edu)\r\n * Skyler Grandel (skyler.h.grandel@vanderbilt.edu)\r\n */import React from'react';import NavBar from'../components/NavBar';import Airtable from'airtable';/** The data dashboard page. Displays statistics for KOACORE business relevant to the client */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DataDashboard=/*#__PURE__*/function(_React$Component){_inherits(DataDashboard,_React$Component);var _super=_createSuper(DataDashboard);function DataDashboard(){var _this;_classCallCheck(this,DataDashboard);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={serviced:0,provided:0};_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var x,y,base;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// Airtable api call to get most recent entry\nbase=new Airtable({apiKey:process.env.REACT_APP_ATKEY}).base('appECiA8jbyRdHrbu');base('CRM-Prospects').select({maxRecords:1,view:'Retrieve Most Recent'}).eachPage(function(records,fetchNextPage){records.forEach(function(record){x=record.get('Venues').length;});fetchNextPage();}).then(function(err){if(err){console.error(err);return;}_this.setState({serviced:x});console.log(x);});base('CRM-Prospects').select({maxRecords:1,view:'Retrieve Most Recent'}).eachPage(function(records,fetchNextPage){records.forEach(function(record){y=record.get('Test Count')[0];});fetchNextPage();}).then(function(err){if(err){console.error(err);return;}_this.setState({provided:y});console.log(y);});case 3:case\"end\":return _context.stop();}}},_callee);}));return _this;}_createClass(DataDashboard,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h1\",{style:{color:\"#ffffff\"},children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'center',width:'80%',margin:'auto',marginTop:'80px'},children:/*#__PURE__*/_jsxs(\"p\",{style:{color:\"#ffffff\"},children:[\" Thank you for considering KOACORE for your safety needs. We have worked with events ranging from Elton John to Coldplay, and we cannot wait to add you to the KOA family. In your region, we have serviced \",this.state.serviced,\" clients and provided \",this.state.provided,\" tests for fans, generating $\",this.state.provided*40,\" in shared revenue. \"]})})]});}}]);return DataDashboard;}(React.Component);export default DataDashboard;","map":{"version":3,"sources":["C:/Users/skyle/Desktop/PoSWE/cs4278-group3/src/pages/DataDashboard.js"],"names":["React","NavBar","Airtable","DataDashboard","state","serviced","provided","componentDidMount","base","apiKey","process","env","REACT_APP_ATKEY","select","maxRecords","view","eachPage","records","fetchNextPage","forEach","record","x","get","length","then","err","console","error","setState","log","y","color","display","alignItems","justifyContent","width","margin","marginTop","Component"],"mappings":"6vBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CACA,+F,2FAEMC,CAAAA,a,mWAEFC,K,CAAQ,CACJC,QAAQ,CAAE,CADN,CAEJC,QAAQ,CAAE,CAFN,C,OAKRC,iB,sEAAoB,gJAEhB;AAEIC,IAJY,CAIL,GAAIN,CAAAA,QAAJ,CAAa,CAACO,MAAM,CAAEC,OAAO,CAACC,GAAR,CAAYC,eAArB,CAAb,EAAoDJ,IAApD,CAAyD,mBAAzD,CAJK,CAKhBA,IAAI,CAAC,eAAD,CAAJ,CAAsBK,MAAtB,CAA6B,CACzBC,UAAU,CAAE,CADa,CAEzBC,IAAI,CAAE,sBAFmB,CAA7B,EAEmCC,QAFnC,CAE4C,SAACC,OAAD,CAAUC,aAAV,CAA4B,CAChED,OAAO,CAACE,OAAR,CAAgB,SAACC,MAAD,CAAY,CACxBC,CAAC,CAAGD,MAAM,CAACE,GAAP,CAAW,QAAX,EAAqBC,MAAzB,CACH,CAFD,EAIAL,aAAa,GAChB,CARL,EAQOM,IARP,CAQY,SAACC,GAAD,CAAS,CACb,GAAIA,GAAJ,CAAS,CAAEC,OAAO,CAACC,KAAR,CAAcF,GAAd,EAAoB,OAAS,CACxC,MAAKG,QAAL,CAAc,CAACvB,QAAQ,CAACgB,CAAV,CAAd,EACAK,OAAO,CAACG,GAAR,CAAYR,CAAZ,EACH,CAZL,EAcAb,IAAI,CAAC,eAAD,CAAJ,CAAsBK,MAAtB,CAA6B,CACzBC,UAAU,CAAE,CADa,CAEzBC,IAAI,CAAE,sBAFmB,CAA7B,EAEmCC,QAFnC,CAE4C,SAACC,OAAD,CAAUC,aAAV,CAA4B,CAChED,OAAO,CAACE,OAAR,CAAgB,SAACC,MAAD,CAAY,CACxBU,CAAC,CAAGV,MAAM,CAACE,GAAP,CAAW,YAAX,EAAyB,CAAzB,CAAJ,CACH,CAFD,EAIAJ,aAAa,GAChB,CARL,EAQOM,IARP,CAQY,SAACC,GAAD,CAAS,CACb,GAAIA,GAAJ,CAAS,CAAEC,OAAO,CAACC,KAAR,CAAcF,GAAd,EAAoB,OAAS,CACxC,MAAKG,QAAL,CAAc,CAACtB,QAAQ,CAACwB,CAAV,CAAd,EACAJ,OAAO,CAACG,GAAR,CAAYC,CAAZ,EACH,CAZL,EAnBgB,sD,iEAkCpB,iBAAQ,CAEJ,mBACI,oCACI,KAAC,MAAD,IADJ,cAEI,aAFJ,cAGI,WAAI,KAAK,CAAE,CAACC,KAAK,CAAC,SAAP,CAAX,uBAHJ,cAII,YAAK,KAAK,CAAE,CACRC,OAAO,CAAE,MADD,CAERC,UAAU,CAAE,QAFJ,CAGRC,cAAc,CAAE,QAHR,CAIRC,KAAK,CAAC,KAJE,CAKRC,MAAM,CAAE,MALA,CAMRC,SAAS,CAAE,MANH,CAAZ,uBASI,WAAG,KAAK,CAAE,CAACN,KAAK,CAAC,SAAP,CAAV,0NAA0O,KAAK3B,KAAL,CAAWC,QAArP,0BAAqR,KAAKD,KAAL,CAAWE,QAAhS,iCAAuU,KAAKF,KAAL,CAAWE,QAAX,CAAoB,EAA3V,0BATJ,EAJJ,GADJ,CAkBH,C,2BA7DuBN,KAAK,CAACsC,S,EAgElC,cAAenC,CAAAA,aAAf","sourcesContent":["/**\r\n * Group 3\r\n * Homework 3\r\n * Grant Bowlds (grant.f.bowlds@vanderbilt.edu) \r\n * Donny Carr (donovan.e.carr@vanderbilt.edu) \r\n * Justin Condren (justin.l.condren@vanderbilt.edu)\r\n * Skyler Grandel (skyler.h.grandel@vanderbilt.edu)\r\n */\r\n\r\nimport React from 'react';\r\nimport NavBar from '../components/NavBar';\r\nimport Airtable from 'airtable';\r\n/** The data dashboard page. Displays statistics for KOACORE business relevant to the client */\r\n\r\nclass DataDashboard extends React.Component {\r\n\r\n    state = {\r\n        serviced: 0,\r\n        provided: 0\r\n    }\r\n\r\n    componentDidMount = async() => {\r\n        var x, y;\r\n        // Airtable api call to get most recent entry\r\n\r\n        var base = new Airtable({apiKey: process.env.REACT_APP_ATKEY}).base('appECiA8jbyRdHrbu');\r\n        base('CRM-Prospects').select({\r\n            maxRecords: 1,\r\n            view: 'Retrieve Most Recent'}).eachPage((records, fetchNextPage) => {\r\n                records.forEach((record) => {\r\n                    x = record.get('Venues').length;\r\n                });\r\n\r\n                fetchNextPage();\r\n            }).then((err) => {\r\n                if (err) { console.error(err); return; }\r\n                this.setState({serviced:x})\r\n                console.log(x);\r\n            });\r\n            \r\n        base('CRM-Prospects').select({\r\n            maxRecords: 1,\r\n            view: 'Retrieve Most Recent'}).eachPage((records, fetchNextPage) => {\r\n                records.forEach((record) => {\r\n                    y = record.get('Test Count')[0];\r\n                });\r\n\r\n                fetchNextPage();\r\n            }).then((err) => {\r\n                if (err) { console.error(err); return; }\r\n                this.setState({provided:y})\r\n                console.log(y);\r\n            });\r\n    }\r\n\r\n    render(){\r\n\r\n        return(\r\n            <div>\r\n                <NavBar />\r\n                <br></br>\r\n                <h1 style={{color:\"#ffffff\"}}>Dashboard</h1>\r\n                <div style={{\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    width:'80%',\r\n                    margin: 'auto',\r\n                    marginTop: '80px'\r\n                }}>\r\n                    \r\n                    <p style={{color:\"#ffffff\"}}> Thank you for considering KOACORE for your safety needs. We have worked with events ranging from Elton John to Coldplay, and we cannot wait to add you to the KOA family. In your region, we have serviced {this.state.serviced} clients and provided {this.state.provided} tests for fans, generating ${this.state.provided*40} in shared revenue. </p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DataDashboard;\r\n\r\n"]},"metadata":{},"sourceType":"module"}